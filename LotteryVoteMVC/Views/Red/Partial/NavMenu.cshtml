@model LotteryVoteMVC.Models.User
@using LotteryVoteMVC.Models
@using LotteryVoteMVC.Resources
@{
    ViewBag.Title = "NavMenu";
    var controller = ViewContext.RouteData.Values["controller"].ToString();
    var action = ViewContext.RouteData.Values["action"].ToString();
    var sheetNav = new[] { "CompanyAmountRanking", "NumAmountRanking", "ThreeDNumAmountRanking", "Cancel", "EachLevel" };
}
<div id="menubar" class="menubar">
    <ul id="menus" class="menus">
        <li>@Html.ActionLink(Resource.Message, "", "Message")
        </li>
        @if (Model.Role == Role.Guest)
        {
            <li>@Html.ActionLink(Resource.VietnamLottery, "", "Bet")</li>
            <li>@Html.ActionLink(Resource.BetList, "Bet", "Sheet")
                @*<ul class="children" style="display: none">
                    <li>@Html.ActionLink(Resource.OrderList, "", "Order")</li>
                </ul>*@ </li>
            <li>@Html.ActionLink(Resource.Statement, "Statement", "Report")</li>
        }
        else
        {
            <li>@Html.ActionLink(Resource.User, "", "Account")
            </li>
            <li>@Html.ActionLink(Resource.Commission, "", "Commission")</li>
        
            <li>@Html.ActionLink(Resource.BetList, "", "Sheet")
            </li>
        }
        @if (Model.Role != Role.Guest)
        {
            <li>@Html.ActionLink(Resource.MemberWL, "MemberWinLost", "Report")
            </li>
        }
        else
        { 
            <li>@Html.ActionLink(Resource.DropWater, "DropWater", "Log")</li>
        }
        @if (Model.Role == Role.Company)
        { 
            <li>@Html.ActionLink(Resource.LimitMonitor, "UpperMonitor", "Limit")
            </li>
            <li>@Html.ActionLink(Resource.Settle, "", "Settle")</li>
        }
        <li>@Html.ActionLink(Resource.LotteryResult, "LotteryResult", "Company")
        </li>
        <li><a href="javascript:updatePwd();" class="updatePassWord">@Resource.Password</a></li>
        <li style="border: none">@Html.ActionLink(Resource.Logout, "Logout", "Member")</li>
    </ul>
    <div style="clear: both">
    </div>
    @*@if (controller == "Bet" || controller == "Member")
    { 
        <ul class="menus">
            <li>@Html.ActionLink(Resource.RollParlay, "RollParlay", "Bet") </li>
            <li>@Html.ActionLink(Resource.Zodiac, "Zodiac", "Bet")</li>
        </ul>
    }*@
    @if (controller == "Message")
    {
        <ul class="menus">
            <li>@Html.ActionLink("个人资料", "Info", "Member")</li>
            <li>@Html.ActionLink(Resource.BetRule, "Rule", "Bet")</li>
            @*<li>@Html.ActionLink(Resource.LoginLog, "Login", "Log")</li>*@
            @if (Model.Role != Role.Guest)
            {
                <li>@Html.ActionLink(Resource.ActionLog, "Action", "Log") </li>
            }
            <li>@Html.ActionLink(Resource.LoginFailed, "LoginFailed", "Log")</li>
        </ul>
    }
    else if (controller == "Account")
    { 
        <ul class="menus">
            <li>@Html.ActionLink(Resource.SubUser, "Shadow", "Account")</li>
        </ul>
    }
    else if (controller == "Report" && !sheetNav.Contains(action))
    {
        <ul class="menus">
            @if (Model.Role == Role.Company)
            { 
                <li>@Html.ActionLink(Resource.ShareWL, "ShareRateWL", "Report")</li>
            }
        </ul>
    }
    else if (controller == "Sheet" || (controller == "Report" && sheetNav.Contains(action)))
    { 
        <ul class="menus">
            @if (Model.Role == Role.Company)
            {
                <li>@Html.ActionLink(Resource.OrderList, "All", "Order") </li>
                <li>@Html.ActionLink(Resource.Company + Resource.Statistics, "CompanyAmountRanking", "Report")</li>
            }
            @if (Model.Role != Role.Guest)
            {
                <li>@Html.ActionLink("2D" + Resource.NumberStatistics, "NumAmountRanking", "Report")</li>
                <li>@Html.ActionLink("3D" + Resource.NumberStatistics, "ThreeDNumAmountRanking", "Report")</li>
                <li>@Html.ActionLink(Resource.CancelList, "Cancel", "Report")</li>
            }
            @for (int i = (int)Model.RoleId + 1; i <= (int)Role.Guest; i++)
            { 
                <li>@Html.ActionLink(Resource.ResourceManager.GetString(((Role)i).ToString()), "EachLevel", "Report", new { RoleId = i }, null)</li>
            }
        </ul>
    }
    else if (controller == "Limit" && Model.Role == Role.Company)
    {
        <ul class="menus">
            <li>@Html.ActionLink(Resource.TodayWater, "Today", "DropWater")</li>
            <li>@Html.ActionLink(Resource.TomorrowDropWater, "Tomorrow", "DropWater")</li>
            <li>@Html.ActionLink(Resource.AutoDropWater, "", "DropWater")</li>
            <li>@Html.ActionLink(Resource.BatterBetLimit, "BetAuto", "DropWater")</li>
            <li>@Html.ActionLink(Resource.StopAcceptBet, "StopUpperLimits", "Limit")</li>
            <li>@Html.ActionLink(Resource.DefaultUpperLimit, "DefaultUpper", "Limit")</li>
            <li><a href="/ShareRateGroup">@Resource.ShareGroup</a></li>
            <li><a id="gameLimit" href="javascript:editComLimit()">@Resource.MemberGameLimit</a></li>
        </ul>
    }
    else if (controller == "Company")
    { 
        <ul class="menus">
            <li>@Html.ActionLink(Resource.Schedule, "", "Company") </li>
        </ul>
    }
</div>
